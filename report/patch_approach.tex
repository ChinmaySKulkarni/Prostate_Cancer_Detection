\section{Patch Analysis Approach}
\label{sec:patch_based_approaches}
We first tried to process the images on a patch level. Our hypothesis was that certain histological features such as concentration of epithelial cells , percentage of stroma region can be calculated for local regions in the input images and image patches can be classified as belonging to either malignant or benign tissue based on the degree to which they exhibit these features. This approach also helped us increase the amount of data that we we used for training significantly by learning and performing classification on the patch-level. After splitting the images into patches, we removed the patches belonging to the corner regions in each image by matching them against a template patch of the boundary region and removing those patches that gave a match of more than 90 percent. We then selected 24 images (11 cancerous and 13 non-cancerous) from the dataset and used their patches for training. We manually labelled the patches from these images as belonging to either cancerous or non-cancerous regions, classifying only those patches as cancerous where we could confidently identify the presence of strong malignant tissue features. 

\subsection{Patch Dimensionality Analysis}
After extracting the patch data, we performed PCA and NMF dimensionality reduction on the patches. After performing PCA on 50 $\times$ 50 $\times$ 3 dimensional patches, we found that the first 100 dimensions explained 99.7\% of the variance in the training dataset. Figure \ref{fig:nmf_patches} shows some of the NMF components extracted from the data. 


\subsection{Addition of Texture featues}
The epithelial cell distribution in cancerous regions produces a distinct texture as compared to non-cancerous regions and becomes finer as epithelial nuclei spread throughout the tissue. Based on this observation, we hypothesized that with a small enough patch size of 50x50, each patch will be relatively homogeneous in texture and, therefore could be described by texture features calculated for entire patch image. We used the Segmentation Based Fractal Texture Analysis method \cite{6382737} to extract the texture features from the patch images. SFTA decomposes the input image into a set of binary images from  which the fractal dimensions of the regions are computed to describe texture patterns. The SFTA features are calculated using fractal analysis of the entire patch image and are not affected by the shade, brightness and intensity of the patch images. The texture features so computed were added to the set of Principal Component Features for each patch.


\subsection{Classification of Patches Using Gaussian Mixture Models}
To get a more accurate labelling of the patches on top of our manual labelling, we trained two Gaussian Mixture Models, one for each class (cancerous and non-cancerous) after projecting the labelled patches to 100 dimensions using PCA and adding the texture features. We then used the two trained Gaussian Mixture Models, weighted together with their respective class prior probabilities for classifying all the training patches again as cancerous and non-cancerous. Post-training, we obtained the distribution of patches identified by the classifier as cancerous across the 24 labelled images and calculated the average number of cancerous patches in malignant and benign tissue images. We took the mean of these numbers as the threshold number of patches for classifying a tissue image as cancerous.

We then used the trained GMM classifier to predict the patch labels on the remaining unseen dataset and calculated the number of patches predicted as cancerous in each image. Following this, we classified each image as cancerous or non-cancerous according to the threshold calculated previously.This approach did not produce very encouraging results as we were able to classify very few images from the unseen dataset as malignant.

Upon a closer analysis of the data, we discovered that the variability in lumen sizes and their distribution across the tissue is a more reliable predictor of malignancy. However, with a patch-based approach this information cannot be captured reliably as lumen areas might stretch across multiple patches making estimation of size and distribution of lumen areas difficult. We therefore halted our investigation into patch-based classification and focused on extracting features by analysing tissue images as a whole.



 

